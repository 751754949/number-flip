!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(t.numberFlip={})}(this,function(t){"use strict";function r(t,r){for(var e=0;e<r.length;e++){var i=r[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t){return function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=require("gelerator").g,n=function(t,r){return(t>r?t:r).toString().length},o=function(t,r){var e;return(e=function t(r,e){return r.length<e?t("0"+r,e):r}(t.toString(),r),e.split("").map(Number)).reverse()},s=function(){function t(r){var i=this,o=r.node,s=r.from,a=void 0===s?0:s,h=r.to,f=r.duration,c=void 0===f?.5:f,u=r.delay,l=r.easeFn,d=void 0===l?function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}:l,p=r.systemArr,y=void 0===p?e(Array(10).keys()):p,v=r.direct,m=void 0===v||v;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.beforeArr=[],this.afterArr=[],this.ctnrArr=[],this.duration=1e3*c,this.systemArr=y,this.easeFn=d,this.from=a,this.to=h||0,this.node=o,this.direct=m,this._initHTML(n(this.from,this.to)),void 0!==h&&(u?setTimeout(function(){return i.flipTo({to:i.to,direct:m})},1e3*u):this.flipTo({to:this.to,direct:m}))}var s,a,h;return s=t,(a=[{key:"_initHTML",value:function(t){var r=this;this.node.classList.add("number-flip"),this.node.style.position="relative",this.node.style.overflow="hidden",e(Array(t).keys()).forEach(function(t){var n=i("ctnr ctnr".concat(t)).apply(void 0,e(r.systemArr.map(function(t){return i("digit")(t)})).concat([i("digit")(r.systemArr[0])]));n.style.position="relative",n.style.display="inline-block",r.ctnrArr.unshift(n),r.node.appendChild(n),r.beforeArr.push(0)}),this.height=this.ctnrArr[0].clientHeight/(this.systemArr.length+1),this.node.style.height=this.height+"px";for(var n=0,o=this.ctnrArr.length;n<o;n+=1)this._draw({digit:n,per:1,alter:~~(this.from/Math.pow(10,n))})}},{key:"_draw",value:function(t){var r=t.per,e=t.alter,i=t.digit,n=this.beforeArr[i],o="translateY(".concat(-(((r*e+n)%10+10)%10)*this.height,"px)");this.ctnrArr[i].style.webkitTransform=o,this.ctnrArr[i].style.transform=o}},{key:"flipTo",value:function(t){var r=this,e=t.to,i=t.duration,n=t.easeFn,s=t.direct,a=void 0===s||s,h=this.ctnrArr.length;this.beforeArr=o(this.from,h),this.afterArr=o(e,h);var f=function(t){for(var e=0,i=r.ctnrArr.length-1;i>=0;i-=1){var o=r.afterArr[i]-r.beforeArr[i];e+=o;var s=n||r.easeFn;r._draw({digit:i,per:s(t),alter:a?o:e}),e*=10}},c=performance.now(),u=1e3*i||this.duration;requestAnimationFrame(function t(i){var n=i-c;f(n/u),n<u?requestAnimationFrame(t):(r.from=e,f(1))})}}])&&r(s.prototype,a),h&&r(s,h),t}();t.Flip=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=number-flip.min.js.map
